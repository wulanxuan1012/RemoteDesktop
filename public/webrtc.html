<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ËøúÁ®ãÊ°åÈù¢ÊéßÂà∂ - WebRTC</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* WebRTC ‰∏ìÁî®Ê†∑Âºè */
        #remote-video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            background: #000;
            display: block;
        }

        #screen-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            z-index: 1;
        }

        #status-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 10;
            font-size: 12px;
            pointer-events: none;
        }

        #debug-panel {
            position: fixed;
            top: 35px;
            left: 5px;
            width: 200px;
            max-height: 300px;
            background: rgba(0, 0, 0, 0.7);
            color: #0f0;
            font-family: monospace;
            font-size: 10px;
            overflow-y: auto;
            border: 1px solid #333;
            padding: 5px;
            z-index: 100;
            pointer-events: none;
            display: none;
        }

        #debug-panel.visible {
            display: block;
        }

        #play-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }

        #play-overlay.hidden {
            display: none;
        }

        .play-btn {
            font-size: 48px;
            margin-bottom: 20px;
        }

        #toolbar {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 20;
            display: flex;
            gap: 10px;
        }

        .tool-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 24px;
            backdrop-filter: blur(5px);
            cursor: pointer;
        }

        .tool-btn:active {
            background: rgba(255, 255, 255, 0.4);
        }

        /* Virtual Keyboard */
        #virtual-keyboard {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            padding: 10px;
            z-index: 50;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        #virtual-keyboard.hidden {
            display: none;
        }

        .keyboard-row {
            display: flex;
            gap: 5px;
            justify-content: center;
        }

        .key-btn {
            flex: 1;
            padding: 10px;
            border-radius: 5px;
            background: #333;
            color: white;
            border: none;
        }

        .key-btn:active,
        .key-btn.active {
            background: #666;
        }

        #text-input {
            flex: 2;
            padding: 10px;
            border-radius: 5px;
            border: none;
        }

        #btn-send-text {
            flex: 1;
            border-radius: 5px;
            border: none;
            background: #2ed573;
            color: white;
        }
    </style>
</head>

<body>
    <div id="status-bar">
        <span id="status-dot"
            style="width:8px;height:8px;border-radius:50%;background:red;margin-right:5px;display:inline-block;"></span>
        <span id="status-text">ÂàùÂßãÂåñ...</span>
        <span id="fps-counter" style="margin-left:auto;">-- FPS</span>
    </div>

    <!-- Ë∞ÉËØïÈù¢Êùø -->
    <div id="debug-panel"></div>

    <div id="screen-container">
        <video id="remote-video" autoplay playsinline webkit-playsinline muted></video>
    </div>

    <!-- ÁÇπÂáªÊí≠ÊîæÈÅÆÁΩ© -->
    <div id="play-overlay" class="hidden">
        <div class="play-btn">‚ñ∂Ô∏è</div>
        <div id="play-msg">ÁÇπÂáªÂºÄÂßãÊòæÁ§∫ÁîªÈù¢</div>
        <div style="margin-top:10px;font-size:12px;color:#aaa;" id="play-debug-info"></div>
    </div>

    <div id="toolbar">
        <button id="btn-debug" class="tool-btn" style="font-size:16px">üêû</button>
        <button id="btn-keyboard" class="tool-btn">‚å®Ô∏è</button>
        <button id="btn-fullscreen" class="tool-btn">‚õ∂</button>
    </div>

    <div id="virtual-keyboard" class="hidden">
        <div class="keyboard-row">
            <input type="text" id="text-input" placeholder="ËæìÂÖ•ÊñáÊú¨">
            <button id="btn-send-text">ÂèëÈÄÅ</button>
        </div>
        <div class="keyboard-row">
            <button class="key-btn" data-key="escape">Esc</button>
            <button class="key-btn" data-key="tab">Tab</button>
            <button class="key-btn" data-key="backspace">‚å´</button>
            <button class="key-btn" data-key="enter">Enter</button>
        </div>
        <div class="keyboard-row">
            <button class="key-btn modifier" data-key="control">Ctrl</button>
            <button class="key-btn modifier" data-key="alt">Alt</button>
            <button class="key-btn modifier" data-key="shift">Shift</button>
            <button class="key-btn" data-key="space">Space</button>
        </div>
    </div>

    <script src="client-webrtc.js"></script>
</body>

</html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ËøúÁ®ãÊ°åÈù¢ÊéßÂà∂ - WebRTC</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* WebRTC ‰∏ìÁî®Ê†∑Âºè */
        #remote-video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            background: #000;
        }

        #screen-container {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stats {
            position: fixed;
            top: 36px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: #0f0;
            padding: 5px 10px;
            font-family: monospace;
            font-size: 12px;
            border-radius: 4px;
            z-index: 200;
        }
    </style>
</head>

<body>
    <!-- ËøûÊé•Áä∂ÊÄÅÊåáÁ§∫Âô® -->
    <div id="status-bar">
        <span id="status-dot"></span>
        <span id="status-text">Ê≠£Âú®ËøûÊé•...</span>
        <span id="fps-counter">-- FPS</span>
    </div>

    <!-- ÁªüËÆ°‰ø°ÊÅØ -->
    <div class="stats" id="stats"></div>

    <!-- ËøúÁ®ãËßÜÈ¢ë -->
    <div id="screen-container">
        <video id="remote-video" autoplay playsinline></video>
        <div id="loading">
            <div class="spinner"></div>
            <p>Ê≠£Âú®Âª∫Á´ã WebRTC ËøûÊé•...</p>
        </div>
    </div>

    <!-- Â∫ïÈÉ®Â∑•ÂÖ∑Ê†è -->
    <div id="toolbar">
        <button id="btn-keyboard" class="tool-btn" title="ÈîÆÁõò">‚å®Ô∏è</button>
        <button id="btn-mouse" class="tool-btn active" title="Èº†Ê†áÊ®°Âºè">üñ±Ô∏è222</button>
        <button id="btn-fullscreen" class="tool-btn" title="ÂÖ®Â±è">‚õ∂111</button>
    </div>

    <!-- ËôöÊãüÈîÆÁõò -->
    <div id="virtual-keyboard" class="hidden">
        <div class="keyboard-row">
            <input type="text" id="text-input" placeholder="ËæìÂÖ•ÊñáÊú¨ÂêéÁÇπÂáªÂèëÈÄÅ">
            <button id="btn-send-text">ÂèëÈÄÅ</button>
        </div>
        <div class="keyboard-row">
            <button class="key-btn" data-key="escape">Esc</button>
            <button class="key-btn" data-key="tab">Tab</button>
            <button class="key-btn" data-key="backspace">ÈÄÄÊ†º</button>
            <button class="key-btn" data-key="enter">ÂõûËΩ¶</button>
        </div>
        <div class="keyboard-row">
            <button class="key-btn modifier" data-key="control">Ctrl</button>
            <button class="key-btn modifier" data-key="alt">Alt</button>
            <button class="key-btn modifier" data-key="shift">Shift</button>
            <button class="key-btn" data-key="space">Á©∫Ê†º</button>
        </div>
        <div class="keyboard-row">
            <button class="key-btn" data-key="up">‚Üë</button>
            <button class="key-btn" data-key="down">‚Üì</button>
            <button class="key-btn" data-key="left">‚Üê</button>
            <button class="key-btn" data-key="right">‚Üí</button>
        </div>
    </div>

    <script src="client-webrtc.js"></script>
</body>

</html>